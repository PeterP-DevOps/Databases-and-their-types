# Домашнее задание к занятию «Базы данных, их типы» - Петр Петров
### Задание 1. СУБД
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.  

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?  

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.  
Ответ: Для задач бюджетирования, финансовых отчётов и прогнозирования рисков лучше всего подойдёт реляционная СУБД (SQL) — например, PostgreSQL, Oracle или MS SQL Server. Потому что Финансовые данные требуют строгой структуры, важна целостность данных, удобно строить сложные аналитические запросы, отчёты, агрегаты, хорошо поддерживаются связи между таблицами.  
1.1. Хеширование стало занимать длительное время*  
Ответ: Можно использовать API криптографических библиотек, оптимизированных под железо, или применять аппаратное ускорение (AES-NI) через соответствующие API.  

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.  
Ответ: под лендинги - NoSQL. Потому что гибкая структура данных, высокая скорость записи, легко масштабировать под всплески трафика.  
Для CRM - SQL-СУБД (PostgreSQL, MySQL).  
1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?  
Ответ: PostgreSQL + JSONB. Лендинги пишут данные в JSON, а CRM работает с реляционной частью.  

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.  
Ответ: Реляционная СУБД (PostgreSQL / MySQL) или документоориентированная (MongoDB). 
1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?  
Ответ: Да, можно. Нужно хранить данные в той же PostgreSQL, что и CRM и вынести в отдельную схему или базу, ограничив доступ ролями.  

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.  
Ответ: Нужна графовая СУБД: Neo4j, JanusGraph.  
1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?  
Ответ: Если закупки тесно связаны с логистикой — единая система с разными моделями данных.  

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?  
Ответ: PostgreSQL как универсальное решение, но лучше использовать несколько СУБД, каждая под свою задачу.  

### Задание 2. Транзакции
2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.  
Ответ:  
1. Пользователь вводит номер телефона и сумму;  
2. Система проверяет корректность данных;  
3. Создаётся транзакция в платёжной системе;  
4. Деньги списываются со счёта пользователя;  
5. Баланс телефона увеличивается;  
6. Транзакция фиксируется, пользователь получает подтверждение.  

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?  
Ответ:  
1. Срабатывает триггер (баланс ниже порога или дата);  
2. Проверяется лимит автоплатежа;  
3. Проверяется доступность средств;  
4. Совершаются действия аналогичные обычному пополнению;  
5. Пользователь получает уведомление.  

### Задание 3. SQL vs NoSQL
3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.  
Ответ:  
1. Строгая структура данных;  
2. ACID-транзакции;  
3. Сложные JOIN-запросы;  
4. Надёжность и целостность данных;  
5. Стандартизированный язык SQL.
3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.  
1. Поддержка ACID-транзакций: Обеспечивают надежные транзакции с полным соблюдением свойств ACID, что важно для критически важных приложений.  
2. Высокая производительность: Оптимизированы для обработки большого количества операций в секунду, что делает их подходящими для приложений с высокими требованиями к производительности.  
3. Горизонтальная масштабируемость: Позволяют эффективно обрабатывать большие объемы данных и высокие нагрузки, что недоступно для многих традиционных SQL систем.  
4. Совместимость с SQL: Используют SQL как язык запросов, что облегчает переход для разработчиков, знакомых с реляционными базами данных.  
5. Гибкость в архитектуре: Предлагают возможность развертывания как в облаке, так и на локальных серверах, что обеспечивает адаптивность к различным инфраструктурным решениям.  

### Задание 4. Кластеры
Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

Приведите ответ в свободной форме.  
Ответ: Тип СУБД в такой задаче стоит выбирать прежде всего по характеру нагрузки (OLAP‑аналитика vs OLTP‑транзакции) и модели данных, а для распределённых вычислений при 1000 машинах чаще всего лучше всего подходят фреймворки уровня Spark/Hadoop (MapReduce‑класс), либо MPI при экстремально вычислительно‑интенсивных задачах с хорошо формализованной параллелизацией.
Когда нужно задействовать много машин для расчётов, стоит выбирать такую организацию работы, при которой каждую задачу можно разбить на множество небольших независимых частей, раздать их разным компьютерам, автоматически перераспределять нагрузку при сбоях и эффективно использовать оперативную память для повторяющихся операций, а также иметь возможность последовательно выполнять несколько шагов обработки данных, не перенося их каждый раз «с нуля» между узлами, чтобы общее время решения сокращалось за счёт параллельной работы и минимальных накладных расходов. 
В описанной задаче с большим объёмом данных и тысячей машин обычно выбирают модель, где данные загружаются в память на многих узлах и обрабатываются «пакетами» с возможностью многократного прохода по ним, то есть в духе современных систем вроде Spark, потому что такая организация позволяет выполнять цепочки операций значительно быстрее классических схем с постоянной записью промежуточных результатов на диск, лучше подходит для сложных расчётов и обучения моделей, даёт средства для работы с потоками данных и при этом остаётся достаточно удобной для разработчиков за счёт высокоуровневых интерфейсов и экосистемы библиотек.Поэтому модель распределённых вычислений - Spark
